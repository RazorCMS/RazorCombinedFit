Installation HOWTO

MacOS:

Make sure ROOT is installed, and ROOTSYS is set. You will need pyROOT to be working. I.e. python -c "import ROOT" must not return an error

Then do the following:

export CVSROOT=:gserver:cmssw.cvs.cern.ch:/cvs/CMSSW
cvs co -d RazorCombinedFit UserCode/wreece/RazorCombinedFit
cd RazorCombinedFit
source setup.sh
make -j 4

Lxplus:

In this case, we use the CMSSW ROOT. In this case, do the following:

cmsrel CMSSW_4_2_3
cd CMSSW_4_2_3/src
cvs co -d RazorCombinedFit UserCode/wreece/RazorCombinedFit
cd RazorCombinedFit
. setup.sh
make -j 4

You will need an input with the following format:

root [1] .ls
TFile**		TTJets_TuneZ2_7TeV-madgraph-tauola_Had.root	
 TFile*		TTJets_TuneZ2_7TeV-madgraph-tauola_Had.root	
  KEY: RooDataSet	RMRTree;1	Selected R and MR
root [2] RMRTree->Print("V")
DataStore RMRTree (Selected R and MR)
  Contains 10000 entries
  Observables: 
    1)  MR = 284.591  L(250 - 1500)  "MR"
    2)   R = 0.280028  L(-200 - 200)  "R"

The ranges specified should be the same as used in the relevant box.

You can run the code by doing:

python scripts/runAnalysis.py -a OneDFit TTJets_TuneZ2_7TeV-madgraph-tauola_*.root

FILE NAME CONVENTION:
- The filenames are expected to end with the name of the box.
- The name includes the MR and R cut used to define the dataset

rfdir /castor/cern.ch/user/m/mpierini/CMST3/RazorSamples/MC/TTbar/ 
-rw-r--r--   1 mpierini zh                      10018 Jun 29 14:43 TTJets_TuneZ2_7TeV-madgraph-tauola_MR250.0_R0.1_Ele.root
-rw-r--r--   1 mpierini zh                      10024 Jun 29 14:43 TTJets_TuneZ2_7TeV-madgraph-tauola_MR250.0_R0.1_EleEle.root
-rw-r--r--   1 mpierini zh                      10006 Jun 29 14:44 TTJets_TuneZ2_7TeV-madgraph-tauola_MR250.0_R0.1_Had.root
-rw-r--r--   1 mpierini zh                      10000 Jun 29 14:44 TTJets_TuneZ2_7TeV-madgraph-tauola_MR250.0_R0.1_Mu.root
-rw-r--r--   1 mpierini zh                      10014 Jun 29 14:44 TTJets_TuneZ2_7TeV-madgraph-tauola_MR250.0_R0.1_MuEle.root
-rw-r--r--   1 mpierini zh                      10007 Jun 29 14:44 TTJets_TuneZ2_7TeV-madgraph-tauola_MR250.0_R0.1_MuMu.root
  
You can create your own files starting from the output of VecBosApp/src/Razor.cc by doing

python scripts/Maurizio2Dataset.py <YOUR INPUT FILE>

A few input files are available at /castor/cern.ch/user/m/mpierini/CMST3/RazorSamples/
You can get a local copy of the files available on castor by doing (for instance)

python script/castor_copy.py /castor/cern.ch/user/m/mpierini/CMST3/RazorSamples/MC/TTbar/ TTbar

